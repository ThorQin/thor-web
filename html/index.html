<!DOCTYPE html>
<html lang="en-US" style="height: 100%;">
	<head>
		<meta charset="utf-8">
		<title>API Docs</title>
		<script src="jquery-1.11.3.min.js"></script>
		<script src="tui2/tui2.min.js"></script>
		<link rel="stylesheet" type="text/css" href="font-awesome-4.7.0/css/font-awesome.min.css">
		<link rel="stylesheet" type="text/css" href="tui2/tui2.css">
		<style>
			html,body {
				display:flex;
				flex-direction: column;
				height: 100%;
				margin: 0;
				padding: 0;
			}
			h1, h2 {
				margin: 0;
				color: rgba(11, 77, 153, 0.533);
			}
		</style>
		<script>
			$(function() {
				let downX;
				let downWidth;
				let list = $$("list");
				$("#splitter").on('mousedown', (e) => {
					downX = e.clientX;
					downWidth = list._.offsetWidth;
					tui.widget.openDragMask((e) => {
						let w = downWidth + e.clientX - downX;
						if (w >= 0 && w <= 700 ) {
							list._.style.width = w + 'px';
						}
					}, (e) => {
						downX = null;
					});
				});
				$get('apis.json').then(result => {
					function trans(item) {
						item.expand = true;
						if (item.type === 'folder') {
							item.icon = 'fa-folder-o'
						} else {
							item.icon = 'fa-link';
						}
						if (item.children) {
							item.children.forEach(i => trans(i))
						}
					}
					result.children.forEach(i => trans(i));
					list.set('tree', result.children);
				})
			})
		</script>
	</head>
	<body style="display:flex;flex-direction: column; height: 100%;">
		<h2 style="padding: 20px;background-color: #f0f0f0; box-shadow: 0px 1px 5px #8888;z-index:10">
			API DOCs
		</h2>
		<div style="flex:1;display: flex;flex-direction: row;align-items: stretch;">
			<tui:list id="list" style="width: 400px;height:auto;border: none;"></tui:list>
			<div id="splitter" style="width: 14px;background-color: #eee;"></div>

		</div>
	</body>
</html>
